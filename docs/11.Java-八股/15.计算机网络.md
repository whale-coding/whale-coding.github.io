---
title: 计算机网络
date: 
permalink: 
categories:
---

### 1.OSI 七层模型是什么？每一层的作用是什么？

OSI七层模型是理论性的网络参考框架（物理层、数据链路层、网络层、传输层、会话层、表示层、应用层），TCP/IP四层模型（网络接口层、网际层、传输层、应用层）是实际应用的标准。

<div align="center">
  <img src="https://blog-whalecoding.oss-cn-beijing.aliyuncs.com/picgo/20260122191747036.PNG">
</div>


::: center 

OSI七层参考模型和TCP/IP四层模型

 :::

::: note 

OSI七层模型是理论上的网络通信模型。该模型主要有 7 层，分别是：

**应用层、表示层、会话层、传输层、网络层、数据链路层以及物理层**。

- **应用层**：负责给应用程序提供统一的接口
- **表示层**：负责把数据转换成兼容另一个系统能识别的格式
- **会话层**：负责建立、管理和终止表示层实体之间的通信会话
- **传输层**：负责端到端的数据传输
- **网络层**：负责数据的路由、转发、分片
- **数据链路层**：负责数据的封帧和差错检测，以及 MAC 寻址
- **物理层**：负责在物理网络中传输数据帧

:::

### 2.TCP/IP 四层模型是什么？每一层的作用是什么？

::: note 

TCP/IP 四层模型是互联网通信的核心，是实际使用的网络通信模型。TCP/IP模型包括4层，分别是：

**应用层，传输层，网络层和网络接口层**。

- **应用层**：直接面向用户和应用程序，提供各种网络服务
- **传输层**：提供端到端的通信服务，确保数据可靠传输
- **网络层**：负责在不同网络之间路由数据包
- **网络接口层**：负责将数字信号在物理通道中准确传输

:::

### 3.有哪些常见的网络协议？

![常见网络协议](https://blog-whalecoding.oss-cn-beijing.aliyuncs.com/picgo/20260122193413810.PNG)

::: center 

常见的网络协议

 :::

::: note 

**1.应用层常见的协议：**

- **HTTP**：超文本传输协议
- **SMTP**：简单邮件发送协议
- **POP3/IMAP**：邮件接收协议
- **FTP**：文件传输协议
- **SSH**：安全的网络传输协议
- **DNS**：域名管理系统

**2.传输层常见的协议：**

- **TCP**：传输控制协议。提供面向连接的、可靠的数据传输服务
- **UDP**：用户数据协议。提供无连接的、尽最大努力的数据传输服务

**3.网络层常见的协议：**

- **IP**：网际协议
- **ARP**：地址解析协议
- **ICMP**：互联网控制报文协议
- **NAT**：网络地址转换协议
- **OSPF**：开放式最短路径优先
- **RIP**：路由信息协议
- **BGP**：边界网关协议

:::

>扩展面试题：**TCP、IP分别位于哪一层？RPC在哪一层？**

:::danger NOTE

- TCP 在**传输层**
- IP在**网络层**
- RPC在七层模型中的**会话层**，在四层模型中的**应用层**

:::

### 4.TCP和UDP的区别？

![image-20260122195204539](https://blog-whalecoding.oss-cn-beijing.aliyuncs.com/picgo/20260122195204605.png)

::: center 

TCP和UDP的区别

 :::

:::note

- TCP是面向连接的，UDP是无连接的
- TCP是可靠传输，UDP是不可靠传输
- TCP 是面向字节流传输，UDP 是面向报文传输
- TCP 的头部至少需要 20 字节，UDP 的头部固定只有8字节
- TCP 只支持点对点的单播通信，UDP 支持单播、多播和广播的通信方式
- TCP的传输速度慢，UDP的传输速度快
- TCP适用于网页浏览/邮件发送场景，UDP适用于直播/游戏场景

:::

> 扩展面试题：**你知道哪些基于 TCP/UDP 的协议？**

:::danger NOTE

基于 TCP 的协议 (可靠、面向连接):

- **HTTP/HTTPS**：网页浏览和安全网页浏览
- **FTP** ：文件传输
- **SMTP** ：发送电子邮件
- **POP3** ：接收邮件
- **SSH** ：安全远程登录

基于 UDP 的协议 (快速、无连接):

- **DNS** ：域名解析
- **TFTP** ：简单文件传输
- **SNMP** ：网络管理

:::

### 5.详细说一下TCP 三次握手的过程

#### 5.1 为什么要三次握手?





#### 5.2 TCP 三次握手的过程?





#### 5.3 TCP握手为什么是三次，为什么不能是两次？不是四次？





#### 5.4 第二次握手传回了 ACK，为什么还要传回SYN？





#### 5.5 三次握手过程中可以携带数据吗？



### 6.详细说一下TCP 四次挥手的过程

#### 6.1 为什么要四次挥手？



#### 6.2 TCP四次挥手的过程？



#### 6.3 TCP四次挥手过程中，为什么需要等待 2MSL才进入 CLOSED 关闭状态？





#### 6.4 服务器上有很多2MSL的数据包，可能是什么原因导致的？



#### 6.5 为什么不能把服务器发送的ACK和FIN合并起来，变成三次挥手？



#### 6.6 如果第二次挥手时服务器的ACK没有送达客户端，会怎样？





### 7.TCP 如何保证传输的可靠性？





### 8.说说 TCP 的流量控制？



### 9.说说TCP的拥塞控制？



### 10. TCP的粘包问题及解决方案？





### 11.从浏览器地址栏输入 url 到显示网页的过程了解吗？

![72f712b9-522f-43b0-a21b-7d227be163fc](https://blog-whalecoding.oss-cn-beijing.aliyuncs.com/picgo/20260122200224894.png)

::: center 

从浏览器地址栏输入 url 到显示网页的过程

 :::

::: note

1. **DNS** **解析**：浏览器通过 DNS 协议，获取域名对应的 IP 地址。
2. **TCP** **连接**：浏览器根据 IP 地址和端口号，经过三次握手与目标服务器建立TCP 连接。
3. **发送 HTTP 请求**：向服务器发送一个 HTTP 请求报文，请求获取网页的内容。
4. **服务器处理请求**：服务器接收到 HTTP 请求后，根据请求的资源路径，经过后端处理，生成 HTTP 响应报文给浏览器。
5. **浏览器接收 HTTP 响应**：浏览器收到 HTTP 响应报文后，解析响应体中的 HTML 代码，渲染网页的结构和样式，同时根据 HTML 中的其他资源的 URL（如图片、CSS、JS 等），再次发起 HTTP 请求，获取这些资源的内容，直到网页完全加载显示。
6. **断开连接**：TCP 四次挥手，连接结束。

 :::

### 12.说说 HTTP 常用的状态码及其含义？

::: note

HTTP 状态码用于描述 HTTP 请求的结果。主要有5种，分别以1-5开头。

- 1xx代表**服务器收到请求，需要进一步操作**。
- 2xx代表**请求成功处理**。例如 200表示请求成功。
- 3xx代表**重定向**。例如301表示资源被**永久重定向**，可能是网站的网址更换了；302表示资源被**临时重定向**，可能是网站的某些资源被暂时转移到另外一个网址。
- 4xx代表**客户端错误**。例如 404 Not Found 表示资源不存在。
- 5xx代表**服务器错误**。例如500 Internal Server Error 表示服务器内部错误。

 :::

### 13.HTTP 有哪些请求方式？

:::note

常见的请求方式有 GET、POST、PUT、DELETE。

- `GET`：从服务器获取指定的资源，相当于数据库操作中的select
- `POST`：向服务器发送数据以**创建新资源**，相当于数据库操作中的insert
- `PUT`：向服务器发送数据以**更新现有资源**，相当于数据库操作中的update
- `DELETE`： 从服务器删除指定的资源，相当于数据库操作中的delete

:::

### 14.GET 和 POST 的区别？

:::note

- GET 通常用于获取或查询资源，而 POST 通常用于创建或修改资源
- GET 请求是幂等的，即多次重复执行不会改变资源的状态，而 POST 请求是不幂等的
- GET 请求的参数通常放在 URL 中，而 POST 请求的参数通常放在请求体中
- GET 请求容易被浏览器缓存，而 POST 请求通常不会
- GET 请求由于请求的参数通常放在 URL 中，容易泄露敏感数据，POST请求相对安全

:::

### 15.HTTP 1.0、HTTP 1.1、HTTP 2.0、HTTP 3.0的区别？

HTTP1.0 默认是短连接，HTTP1.1 默认是长连接，HTTP2.0 采用的多路复用。

HTTP2.0基于 TCP 协议，而 HTTP3.0 **基于** **QUIC** **协议**，直译就是**快速** **UDP** **网络连接**。

#### 15.3 HTTP协议是基于TCP 还是UDP？



#### 15.4 HTTP的content-type有哪些？

:::note

- 文本类：text/html、text/plain
- 图片类：image/jpeg、image/png
- 数据类：application/json、multipart/form-data
- 文件类：application/pdf、application/zip

:::

### 16.HTTP 和 HTTPS 有什么区别？

:::note

- HTTPS更加安全。HTTP 协议传输的内容是明文，HTTPS 在 HTTP 的基础上加入了 `SSL/TLS协议`，确保数据在传输过程中是加密的。
- HTTP 的默认端⼝号是 `80`，URL 以`http://`开头；HTTPS 的默认端⼝号是`443`，URL 以`https://`开头。

:::

### 17.HTTPS是怎么建立连接的？

主要包括握手阶段和数据传输阶段。

- 客户端向服务器发起请求。
- 服务器接收到请求后，返回自己的数字证书，包含了公钥、颁发机构等信息。
- 客户端收到服务器的证书后，验证证书的合法性，如果合法，会生成一个随机码，然后用服务器的公钥加密这个随机码，发送给服务器。
- 服务器收到会话密钥后，用私钥解密，得到会话密钥。
- 客户端和服务器通过会话密码对通信内容进行加密，然后传输。

TLS 的握手阶段结束后，客户端与服务器进入加密通信，这里就是使用普通的HTTP协议，只不过用会话秘钥加密内容。

:::note

HTTPS的连接是建立在 `SSL/TLS协议`之上，而`SSL/TLS`是建立在`TCP协议`之上。

:::

### 18.说一下你了解的端口及对应的服务？

| 端口 | 服务          |
| ---- | ------------- |
| 21   | FTP           |
| 22   | SSH           |
| 80   | HTTP          |
| 443  | HTTPS         |
| 3306 | MySQL         |
| 6379 | Redis         |
| 8080 | Tomcat        |
| 8848 | Nacos         |
| 9200 | Elasticsearch |
| 5672 | RabbitMQ      |
| 9092 | Kafka         |

### 19.URI 和 URL 的区别是什么?

:::note

- URI是**统一资源标志符**，可以唯一标识一个资源。
- URL是**统一资源定位符**，可以提供该资源的路径。它是一种具体的 URI。

它们的主要区别在于，URL 除了提供了资源的标识，还提供了资源访问的方式。URI 的作用像身份证号一样，可以唯一标识一个人，URL 的作用更像家庭住址一样，可以通过 URL 找到这个人。

:::

### 20.IP协议

#### 20.1 IP协议是什么？作用？分类？

:::note

IP 协议属于网络层的协议，用于在计算机网络之间传输数据包。

主要作用是**定义数据包的格式**、**对数据包进行路由和寻址**，以便它们可以跨网络传播并到达正确的目的地。

目前 IP 协议主要分为两种，一种是IPV4，一种是IPV6。

:::

#### 20.2 IPv4 和IPv6有什么区别？

:::note

IPV4的格式是**四组由点分隔**的**数字**。IPv4 使用 **32 位**网络地址。

IPv6的格式是**八组由冒号分隔**的**数字和字母**。IPV6使用**128 位**网络地址。

:::

#### 20.3 域名和IP的关系？一个 IP 可以对应多个域名吗？

:::note

IP 地址在同一个网络中是唯一的，域名在同一个网络中也是唯一的。

域名就相当于是IP地址的昵称，我们可以通过域名访问到对应的IP地址。比如我们访问淘宝会访问www.taobao.com 而不是淘宝的IP地址。

<mark>一个域名只能对应一个 IP，而一个 IP 可以对应多个域名。</mark>

:::

### 21.说一下ARP 协议的工作原理(过程)

:::note

`ARP协议`，全称<mark>地址解析协议</mark>。主要目的是**将****网络层****的** **IP** **地址解析为****链路层****的** **MAC** **地址**。

假设主机 A想要和主机 B通信，但它只知道主机 B 的 IP 地址，不知道 MAC 地址.

1.  A 首先检查自己的 <mark>ARP缓存表</mark>里有没有 B 的 MAC 地址，如果有就直接用。
2. 如果没有，A会广播一个<mark>ARP请求报文</mark>到局域网内的所有设备。这个报文中包含发送方A的IP地址和MAC地址以及目标B的IP地址和全零目标MAC地址。
3. 局域网中的所有主机都会收到这个 ARP 请求，但只有主机 B 会回复 <mark>ARP 应答报文</mark>，告诉主机 A 自己的 MAC 地址。并且主机 B 会将主机 A 的 IP 和 MAC 地址映射关系缓存到自己的 ARP 缓存中，以便下次通信时直接使用。
4. 主机 A 收到主机 B 的 ARP 应答后，也会将主机 B 的 IP 和 MAC 地址映射关系缓存到自己的 ARP 缓存中。

:::

### 22.说一下 Ping 的工作原理（过程）？

:::note

PING 命令是一个常用的网络工具，主要用来**测试网络连接的可达性和延迟**。

PING基于网络层的<mark>ICMP互联网控制报文协议</mark>，其主要原理就是通过在网络上发送和接收 `ICMP 报文`实现的。

1. 当执行 Ping 命令时，Ping 首先解析域名获取 IP 地址，然后向目标 IP 发送一个 `ICMP Echo Request`消息。
2. 当目标 IP 收到 ICMP Echo Request 消息后，它会生成一个 `ICMP Echo Reply` 消息并返回，即 Ping 响应消息。
3. 发起 Ping 命令的设备接收到 ICMP Echo Reply 消息后，计算并显示从发送 Echo Request 到接收到 Echo Reply 的时间`RTT`，以及可能的丢包情况。

:::

### 23.说说 DNS 的解析过程?

![DNS解析过程](https://blog-whalecoding.oss-cn-beijing.aliyuncs.com/picgo/20260122205630145.png)

:::center

DNS 解析过程

:::

:::note

DNS也就是域名解析系统，它可以将域名映射到对应的 IP 地址上。

假设我们在浏览器地址栏里键入一个域名：

- 浏览器会首先检查自己的缓存中是否有这个域名对应的 IP 地址，如果有，直接返回；如果没有，进入下一步。
- 检查本地 DNS 缓存是否有该域名的记录。如果没有，向根域名服务器发送请求，根域名服务器将请求指向更具体的服务，如 `com` 顶级域名服务器。
- 顶级域名服务器再将请求指向权限域名服务器，返回对应的ip地址。

最终，浏览器使用获得的 IP 地址发起一个 HTTP 请求到目标服务器，然后该服务器返回所请求的网页内容。

:::
